<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="title">
        Overlay Panel
    </ui:define>

    <ui:define name="description">
        OverlayPanel is a generic container component that can overlay other components on page. Notable features are
        custom positioning, configurable events and effects. Lazy content loading to reduce page load time is also supported via dynamic option, when enabled
        overlayPanel will load the contents just before being shown.
    </ui:define>

    <ui:param name="documentationLink" value="/components/overlaypanel"/>

    <ui:define name="implementation">
        <div class="card">
            <h:form id="form">
                <p:commandButton id="imageBtn" value="Basic" type="button"/>
                <p:overlayPanel id="imagePanel" for="imageBtn" hideEffect="fade">
                    <p:graphicImage name="/demo/images/nature/nature1.jpg" width="300"/>
                </p:overlayPanel>

                <br/><br/>

                <p:commandButton id="movieBtn" value="Dynamic" type="button"/>
                <p:overlayPanel id="moviePanel" for="movieBtn" hideEffect="fade" dynamic="true" style="width:600px"
                                modal="true">
                    <p:dataTable var="movies" value="#{movieView.movieList}" rows="5" paginator="true">
                        <p:column headerText="Movie">
                            <h:outputText value="#{movies.movie}"/>
                        </p:column>

                        <p:column headerText="Directed By">
                            <h:outputText value="#{movies.directedBy}"/>
                        </p:column>

                        <p:column headerText="Genres">
                            <h:outputText value="#{movies.genres}"/>
                        </p:column>

                        <p:column headerText="Run Time(min.)">
                            <h:outputText value="#{movies.runTime}"/>
                        </p:column>
                    </p:dataTable>
                </p:overlayPanel>

                <br/><br/>

                <p:graphicImage id="img" name="/demo/images/images.png" style="cursor:pointer" title="Custom Options"/>
                <p:overlayPanel id="imgPanel" for="img" showEffect="blind" hideEffect="explode" showEvent="mouseover"
                                hideEvent="mousedown"
                                dismissable="false" showCloseIcon="true">
                    <p:imageSwitch effect="fade" style="width:300px;height:188px;">
                        <ui:repeat value="#{imageSwitchView.images}" var="image">
                            <p:graphicImage name="/demo/images/nature/#{image}" width="300"/>
                        </ui:repeat>
                    </p:imageSwitch>
                </p:overlayPanel>

                <br/><br/>

                <p:dataTable id="basicDT" var="product" value="#{dtSelectionView.products1}">
                    <f:facet name="header">
                        DataTable Integration
                    </f:facet>
                    <p:column style="width:32px;text-align: center">
                        <p:commandButton update=":form:productDetail"
                                         oncomplete="PF('productOP').show('#{component.clientId}')"
                                         icon="pi pi-search" title="View">
                            <f:setPropertyActionListener value="#{product}"
                                                         target="#{dtSelectionView.selectedProduct}"/>
                        </p:commandButton>
                    </p:column>
                    <p:column headerText="Code">
                        <h:outputText value="#{product.code}"/>
                    </p:column>
                    <p:column headerText="Name">
                        <h:outputText value="#{product.name}"/>
                    </p:column>
                    <p:column headerText="Category">
                        <h:outputText value="#{product.category}"/>
                    </p:column>
                    <p:column headerText="Quantity">
                        <h:outputText value="#{product.quantity}"/>
                    </p:column>
                </p:dataTable>

                <p:overlayPanel widgetVar="productOP" showEffect="fade" hideEffect="fade" dismissable="false"
                                showCloseIcon="true" dynamic="true">
                    <p:outputPanel id="productDetail" style="text-align:center;">
                        <p:panelGrid rendered="#{not empty dtSelectionView.selectedProduct}">
                            <div class="list-demo">
                                <div class="product-grid-item card" style="margin-bottom: 0">
                                    <div class="product-grid-item-top">
                                        <div>
                                            <i class="pi pi-tag product-category-icon"/>
                                            <span class="product-category">#{dtSelectionView.selectedProduct.category}</span>
                                        </div>
                                        <span class="product-badge status-#{dtSelectionView.selectedProduct.inventoryStatus.name().toLowerCase()}">#{dtSelectionView.selectedProduct.inventoryStatus.text}</span>
                                    </div>
                                    <div class="product-grid-item-content">
                                        <p:graphicImage
                                                name="demo/images/product/#{dtSelectionView.selectedProduct.image}"/>
                                        <div class="product-name">#{dtSelectionView.selectedProduct.name}</div>
                                        <div class="product-description">#{dtSelectionView.selectedProduct.description}</div>
                                        <p:rating readonly="true" value="#{dtSelectionView.selectedProduct.rating}"/>
                                    </div>
                                    <div class="product-grid-item-bottom">
                                        <h:outputText value="#{dtSelectionView.selectedProduct.price}"
                                                      styleClass="product-price">
                                            <f:convertNumber currencySymbol="$" type="currency"/>
                                        </h:outputText>
                                        <p:commandButton value="Add To Cart" icon="pi pi-shopping-cart"
                                                         disabled="#{dtSelectionView.selectedProduct.inventoryStatus == 'OUTOFSTOCK'}">
                                        </p:commandButton>
                                    </div>
                                </div>
                            </div>
                        </p:panelGrid>
                    </p:outputPanel>
                </p:overlayPanel>

            </h:form>
        </div>
    </ui:define>

</ui:composition>
